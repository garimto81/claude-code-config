# 깃허브 네이티브 워크플로우 빠른 시작

**목적**: 로컬 PRD/Task 파일에서 GitHub Issue/Projects로 전환

**예상 시간**: 30분

---

## 1단계: 사전 준비 (5분)

### 1.1 GitHub CLI 설치

```bash
# Windows
winget install GitHub.cli

# macOS
brew install gh

# Linux
sudo apt install gh
```

### 1.2 인증

```bash
gh auth login
# → GitHub.com 선택
# → HTTPS 선택
# → Login with a web browser
```

### 1.3 Repository 설정

```bash
# 현재 repo 확인
gh repo view

# Repository 환경변수 설정 (PowerShell)
$env:GITHUB_REPOSITORY = "your-username/your-repo"

# 또는 Bash
export GITHUB_REPOSITORY="your-username/your-repo"
```

---

## 2단계: Labels 생성 (5분)

```bash
# 스크립트 실행 권한 부여 (Git Bash/WSL)
chmod +x scripts/setup-github-labels.sh

# Labels 생성
bash scripts/setup-github-labels.sh

# 결과 확인
gh label list
```

**결과**: Phase 0-6, Type, Status, Priority 레이블 생성

---

## 3단계: Issue Templates 추가 (이미 완료)

```bash
# 파일 확인
ls .github/ISSUE_TEMPLATE/

# 출력:
# 01-feature-prd.yml
# 02-bug-fix.yml
```

**커밋 & 푸시**:
```bash
git add .github/ISSUE_TEMPLATE/
git commit -m "docs: Add GitHub issue templates for Phase 0-6 workflow"
git push
```

---

## 4단계: GitHub Project 생성 (5분)

### 4.1 웹에서 생성 (추천)

1. GitHub 프로필 → Projects → New Project
2. Template: Board
3. Title: "SSO Development"
4. Add to repository

### 4.2 또는 CLI로 생성

```bash
gh project create --title "SSO Development" --owner @me
```

### 4.3 Project 설정

**Board View** (Kanban):
- 열 추가:
  - Planning (phase-0, phase-0.5)
  - In Progress (phase-1, phase-2, phase-3)
  - Review (phase-4, phase-5)
  - Deployed (phase-6)

**Automation** (Settings → Workflows):
- Item added to project → Move to Planning
- Item closed → Move to Deployed

---

## 5단계: 첫 이슈 생성 (5분)

### 5.1 웹에서 생성 (추천)

```bash
# 브라우저 열기
gh repo view --web

# → Issues → New Issue → 템플릿 선택
```

### 5.2 또는 CLI로 생성

```bash
gh issue create \
  --title "[FEATURE] Google OAuth Integration" \
  --label "phase-0,type:feature,priority:p1" \
  --body "$(cat <<'EOF'
## Executive Summary
Supabase 기반 SSO 시스템에 Google OAuth 로그인 추가

## Goals
1. Google OAuth 2.0 통합
2. 사용자 프로필 자동 생성
3. 세션 관리 (7일)

## Success Metrics
- [ ] 로그인 < 2초
- [ ] 프로필 자동 생성
- [ ] 세션 지속

## Security Checklist
- [x] 환경변수 분리
- [ ] RLS 정책
- [ ] XSS 방지
EOF
)"
```

---

## 6단계: 이슈 작업 시작 (5분)

### 6.1 자동화 스크립트 사용

```bash
# 스크립트 권한 부여
chmod +x scripts/github-issue-dev.sh

# 이슈 번호로 시작 (예: #1)
bash scripts/github-issue-dev.sh 1

# 자동 실행:
# 1. Branch 생성: feature/issue-1
# 2. Draft PR 생성
# 3. Label 추가: status:in-progress
```

### 6.2 코드 작성 & 커밋

```bash
# 코드 작성...

# 커밋 (이슈 번호 포함 필수)
git add .
git commit -m "feat: Add Google OAuth button [#1]"
git push
```

### 6.3 PR Ready로 전환

```bash
# 작업 완료 후
gh pr ready

# 또는 웹에서: PR 페이지 → Ready for review
```

---

## 7단계: 기존 PRD 마이그레이션 (선택)

```bash
# Python 설치 확인
python --version

# GitHub 패키지 설치
pip install PyGithub

# GitHub Token 설정
$env:GITHUB_TOKEN = "ghp_your_token_here"  # PowerShell
# export GITHUB_TOKEN="ghp_your_token_here"  # Bash

# 마이그레이션 실행
python scripts/migrate_prds_to_issues.py contents-factory/tasks/prds/0001-prd-security-bugfix.md

# 결과: GitHub Issue로 변환됨
```

---

## 8단계: 워크플로우 자동화 (추후)

**현재는 수동으로 관리, 추후 GitHub Actions 추가**:

### 추가할 Workflows (선택):
1. `.github/workflows/phase-2-test.yml` - 자동 테스트
2. `.github/workflows/phase-3-version.yml` - 자동 버전 관리
3. `.github/workflows/phase-5-validate-automerge.yml` - Auto-merge
4. `.github/workflows/phase-6-deploy.yml` - 자동 배포

**참고**: `docs/깃허브_네이티브_워크플로우.md`의 전체 워크플로우 예제

---

## 일일 워크플로우 (1인 개발)

### 아침 루틴

```bash
# 1. 오늘 할 일 확인
gh issue list --label "status:in-progress" --assignee @me

# 2. 다음 작업 선택
gh issue list --label "status:planning" --limit 5

# 3. 작업 시작
bash scripts/github-issue-dev.sh <issue-number>
```

### 개발 중

```bash
# 코드 작성...
git add .
git commit -m "feat: implement feature [#N]"
git push

# PR 상태 확인
gh pr status
```

### 완료 시

```bash
# PR ready로 전환
gh pr ready

# 자동 merge (branch protection 설정 시)
# 또는 수동 merge
gh pr merge --squash
```

---

## GitHub vs Local 비교

| 작업 | Before (Local) | After (GitHub) |
|------|----------------|----------------|
| PRD 작성 | `tasks/prds/0001-prd-*.md` | GitHub Issue 템플릿 |
| Task List | `generate_tasks.py` 실행 | Issue 내 tasklist |
| 진행 추적 | 로컬 파일 체크박스 | GitHub Project Board |
| 커밋 참조 | `[PRD-0001]` | `[#123]` (자동 링크) |
| 배포 | 수동 스크립트 | GitHub Actions (추후) |
| Cross-repo | 수동 관리 | Issue references |

---

## 주요 명령어 치트시트

```bash
# 이슈 관리
gh issue list                          # 이슈 목록
gh issue view 123                      # 이슈 보기
gh issue create                        # 이슈 생성
gh issue close 123                     # 이슈 닫기

# PR 관리
gh pr list                             # PR 목록
gh pr view 45                          # PR 보기
gh pr create                           # PR 생성
gh pr ready                            # Draft → Ready
gh pr merge --squash                   # PR 병합

# Label 관리
gh label list                          # 레이블 목록
gh label create "name" --color "hex"   # 레이블 생성

# Project 관리
gh project list                        # 프로젝트 목록
gh project view 1                      # 프로젝트 보기

# 빠른 워크플로우
bash scripts/github-issue-dev.sh 123   # 이슈 작업 시작
gh pr ready && gh pr merge --auto --squash  # 완료 & 자동 병합
```

---

## 문제 해결

### gh 명령어 실행 안됨
```bash
# 인증 확인
gh auth status

# 재인증
gh auth login
```

### 스크립트 권한 에러 (Windows)
```bash
# Git Bash 사용
bash scripts/github-issue-dev.sh 1

# 또는 PowerShell에서 직접 실행
gh issue view 1
git checkout -b feature/issue-1
gh pr create --draft
```

### Issue Template이 안보임
- 커밋 & 푸시 확인: `.github/ISSUE_TEMPLATE/*.yml`
- GitHub 웹에서 확인: Issues → New Issue

---

## 다음 단계

1. **첫 Feature 완료**: Issue 생성 → PR → Merge 전체 사이클 경험
2. **Cross-repo 테스트**: VTC_Logger에서 sso-system 이슈 참조
3. **GitHub Actions 추가**: 자동 테스트 & 배포 (상세: `docs/깃허브_네이티브_워크플로우.md`)
4. **Team 확장**: 다른 개발자 초대 시에도 동일한 워크플로우 사용

---

## 참고 자료

- **상세 가이드**: `docs/깃허브_네이티브_워크플로우.md`
- **CLAUDE.md**: 기존 Phase 0-6 워크플로우
- **GitHub CLI 문서**: https://cli.github.com/manual/
- **GitHub Issues**: https://docs.github.com/en/issues
- **GitHub Projects**: https://docs.github.com/en/issues/planning-and-tracking-with-projects

---

**다음**: 첫 이슈를 생성하고 전체 사이클을 경험해보세요!

```bash
# 시작하기
gh issue create

# 또는 웹에서
gh repo view --web
```
